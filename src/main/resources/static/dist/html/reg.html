<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>注册</title>
<script type="text/javascript" src="js/jquery.min.js"></script>
<script language="JavaScript"> 
function checkpost() 
{ 
　var reg = new RegExp("^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$"); //正则表达式
　　var obj = document.getElementById("mazey"); //要验证的对象
　　if(obj.value === ""){ //输入不能为空
　　　　alert("输入不能为空!");
　　　　return false;
　　}else if(!reg.test(obj.value)){ //正则验证不通过，格式不对
　　　　alert("验证不通过!");
　　　　return false;
　　}else{
　　　
　　　　return true;
　　}
  // if(myform.username.value.length<8 || myform.username.value.length>15){alert("请输入用户名(不低于八位、不高于15位)"); 
    //myform.username.focus(); 
   // return false; 
    
//   } 
   if(myform.password.value.length<5){alert("请输入密码(不低于五位)"); 
    myform.password.focus(); 
    return false; 
    
   } 
} 
</script>

</head>
<body>
    <form action="/register" method="post"  name="myform" onsubmit="return checkpost();">
        用户名:<input type="text"  name="username"  placeholder="请输入邮箱" id="mazey"  />   
        <input id="check" type="button" name="accout"  value="获取验证码"    ></br>
        密码:<input id="pwd" type="password" name="password" id="myform" /></br>
    验证码<input id="code" type="text" name="code"  ></br>
        <input type="submit" id="register" value="注册" ></br>
        
        <a href="login.html" target="_blank">登陆</a>
    </form>
</body>

<script type="text/javascript">
window.onload = function(){  
                alert('${message}');  
            }  
</script>
<script type="text/javascript">
 $("#check").click(function(){
     alert("ddddd");
    $.post("/mail", 
        {username:$("#mazey").val()},
    function(data){
          alert("Data Loaded: " + data);
          });
   // alert("check");
 });
 
 
 $("#register").click(function(){
    $.post("/register", 
        {username:$("#mazey").val(),password:$("#pwd").val(),code:$("#code").val()}          ,
    function(data){
//           alert("Data Loaded: " + data);
             alert("${message}");
          });
   // alert("check");
 });


</script>



</html>